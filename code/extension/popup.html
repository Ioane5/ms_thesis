<!doctype html>
<html>
<head>
    <title>Socket.IO chat</title>
    <!-- TODO Remove this code in extension mode -->
    <script src="p2pcontroller.js"></script>
    <script src="p2pcontroller_wrapper.js"></script>
    <script src="socket.io.js"></script>
    <script src="libraries/jquery-1.11.1.js"></script>
    <script src="popup.js"></script>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified JavaScript -->
    <script src="libraries/materialize.min.js"></script>
    <style>
        html, body {
            margin: 0;
            height: 100%;
            min-height: 100%;
        }

        body {
            display: flex;
            flex-direction: column;
        }

        header, footer {
            flex: none;
        }

        .messages {
            overflow-y: scroll;
            -webkit-overflow-scrolling: touch;
            flex: auto;
        }

        .send_form {
            left: 0;
            right: 0;
            bottom: 0;
            margin: 0;
        }

        #settings_button {
            position: absolute;
            top: 8px;
            right: 16px;
        }

        #peer_public_key {
            width: 180px;
            margin-left: 16px;
        }

        /* label focus color */
        .input-field input[type=text]:focus + label, .materialize-textarea:focus:not([readonly]) + label {
            color: #2196f3 !important;
        }

        /* label underline focus color */
        .input-field input[type=text]:focus, .materialize-textarea:focus:not([readonly]) {
            border-bottom: 1px solid #2196f3 !important;
            box-shadow: 0 1px 0 0 #2196f3 !important;
        }

    </style>
</head>
<body>
<header>
    <a id="settings_button" class="btn-floating blue"><i class="material-icons">settings</i></a>
    <nav>
        <div class="nav-wrapper blue">
            <div class="input-field">
                <input id="peer_public_key" placeholder="Peer Public Key" type="text" class="validate">
            </div>
        </div>
    </nav>
</header>
<main class="messages">
    <ul id="messages"></ul>
</main>

<footer class="send_form row valign-wrapper">
    <div class="input-field col s10 m11">
        <input id="send_input" placeholder="Type a message..." type="text" class="validate" autofocus="false">
    </div>
    <div class="col s2 m1">
        <a id="send_button" class="btn-floating blue center-align"><i class="material-icons">send</i></a>
    </div>
</footer>

<!--Settings Dialog-->
<div id="settings_modal" class="modal">
    <div class="modal-content">
        <h5>Settings</h5>
        <div class="row">
            <div class="input-field col s12">
                <input id="public_key" type="text">
                <label for="public_key">Public Key</label>
            </div>
            <div class="input-field col s12">
                <input id="private_key" type="text">
                <label for="private_key">Private Key</label>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <a id="cancel_settings_button" class="modal-action modal-close waves-effect btn-flat">Cancel</a>
        <a id="save_settings_button" class="modal-action modal-close waves-effect btn-flat">Initialize</a>
    </div>
</div>

</body>
</html>